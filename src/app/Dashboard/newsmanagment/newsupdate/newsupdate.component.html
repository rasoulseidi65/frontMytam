<form [formGroup]="myForm" (ngSubmit)="onSubmit(myForm)">
  <div class="container">
  <div class="row  d-flex justify-content-center">
    <!-- Left col -->

    <section class="col-lg-12  connectedSortable">
      <!-- /.card *****-->
      <div class="card card-primary shadow-lg mt-2">
        <div class="card-header primary-color ">
          <h3 class="card-title text-white">ویرایش خبر</h3>
        </div>
        <!-- /.card-header -->
        <div class="card-body">
          <div class="row ">
            <div class="col-md-9 col-lg-9 col-sm-12">
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3">
                    <label>   تاریخ :</label>
                  </div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                <div class="col-md-12 mb-3">
                <dp-date-picker
                dir="rtl"
                formControlName="date"
                mode="day"


                placeholder="تاریخ  را وارد نمائید"
                theme="dp-material">
              </dp-date-picker>
              </div>
              </div>
              </div>
                </div>
                </div>
                <div class="col-md-12 mb-3">
                  <div class="input-group ">
                    <div class="col-md-3 col-xs-3">
                      <label>  زمان خبر:</label>
                    </div>
                    <div class="col-md-9 col-xs-9">
                      <div class="input-group-prepend ">
                        <input
                          type="text"
                          formControlName="time"
                          class="form-control"
                        />
                      </div>
                      <div
                      *ngIf="time.invalid && (time.dirty || time.touched)"
                      class="alert alert-danger"
                    >
                      <div *ngIf="time.errors.required">
                          زمان  را وارد نمائید
                      </div>
                    </div>
                    </div>

                  </div>

                </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3"><label>گروه خبری:</label></div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <select
                        class="browser-default custom-select form-control"
                        formControlName="group_name"
                        [(ngModel)]="news.group_name"

                      >
                        <option value="ورزشس">ورزشس</option>
                        <option value="سیاسی">سیاسی</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3"><label>عنوان خبر:</label></div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend">
                      <input
                        type="text"
                        formControlName="title"
                        class="form-control"
                        [(ngModel)]="news.title"
                      />

                    </div>
                    <div
                    *ngIf="title.invalid && (title.dirty || title.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="title.errors.required">
                     عنوان خبر را وارد نمائید
                    </div>
                  </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3">
                    <label>کلید واژه عنوان خبر:</label>
                  </div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <input
                        type="text"
                        formControlName="key_title"
                        class="form-control"
                        [(ngModel)]="news.key_title"
                      />
                    </div>
                    <div
                    *ngIf="key_title.invalid && (key_title.dirty || key_title.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="key_title.errors.required">
                     کلید واژه عنوان خبر  را وارد نمائید
                    </div>
                  </div>
                  </div>

                </div>

              </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3"><label>خلاصه خبر:</label></div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <textarea
                        type="text"
                        formControlName="abstract"
                        class="form-control"
                        [(ngModel)]="news.abstract"
                      ></textarea>
                    </div>
                    <div
                    *ngIf="abstract.invalid && (abstract.dirty || abstract.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="abstract.errors.required">
                       خلاصه خبر  را وارد نمائید
                    </div>
                  </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3">
                    <label> کلمات کلید:</label>
                  </div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <textarea
                      formControlName="keyword"
                      [(ngModel)]="news.keyword"
                        class="form-control"
                      ></textarea>
                    </div>
                    <div
                    *ngIf="keyword.invalid && (keyword.dirty || keyword.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="keyword.errors.required">
                       کلید واژه خبر  را وارد نمائید
                    </div>
                  </div>
                  </div>
                </div>
              </div>

              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3"><label> وضعیت :</label></div>

                  <mat-radio-group
                    aria-label="Select an option"
                    formControlName="active"
                    [(ngModel)]="news.active"

                  >
                  <!-- <div *ngIf="news.active"> -->
                    <mat-radio-button value="true" [checked]="news.active">فعال</mat-radio-button>

                  <!-- </div> -->
                  <!-- <div *ngIf="!news.active"> -->
                    <mat-radio-button value="false" [checked]="false">غیرفعال</mat-radio-button>
                  <!-- </div> -->
                  </mat-radio-group>
                </div>
                <div
                    *ngIf="active.invalid && (active.dirty || active.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="active.errors.required">
                        وضعیت خبر  را وارد نمائید
                    </div>
                  </div>
              </div>
              <div class="col-md-12 mb-3 ">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3">
                    <label>جزئیات خبر:</label>
                  </div>
                  <div [innerText]="news.detail"></div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <ckeditor  formControlName="detail"

                      [(ngModel)]="news.detail"
                      ></ckeditor>

                    </div>
                    <div
                    *ngIf="detail.invalid && (detail.dirty || detail.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="detail.errors.required">
                        وضعیت خبر  را وارد نمائید
                    </div>
                  </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-3 col-lg-3 col-sm-12">
              <div><label> تصویر خبر :</label></div>

              <form class="md-form">
                <div class="file-field">
                  <div class="z-depth-1-half mb-4"></div>
                  <div class="d-flex flex-column">
                    <div>
                      <img class="w-100 h-100"  src="http://localhost:3001/{{news.image}}" />
                    </div>
                    <div class="btn btn-info border-info text-white btn-rounded float-left">
                      <input
                        #file
                        type="file"
                        accept="image/*"
                        (change)="onFileChange($event)"
                      />
                      <i class="material-icons fa-2x text-white mr-3">
                        add_photo_alternate
                        </i>
                      <!-- <input type="file" (change)="onFileChange($event)"> -->
                      <span>انتخاب تصویر</span>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>


        </div>
        <div class="card-footer">
          <button type="submit"  class="btn btn-success border-success btn-rounded text-white "><i class="material-icons fa-2x mr-3">
            edit
            </i>ویرایش خبر</button>
        </div>
      </div>
      <!-- /.left col -->

    </section>
    <div></div>
  </div>
  </div>
</form>
