<form [formGroup]="myForm" (ngSubmit)="onSubmit(myForm)">
  <div class="container">
    <div *ngIf="successResult" class="mt-5">
      <div class="alert alert-success text-center">
       <a class="alert-link text-center">  مقاله با موفقیت ویرایش  شد</a>.
      </div>
    </div>

  <div class="row  d-flex justify-content-center">
    <!-- Left col -->

    <section class="col-lg-12  connectedSortable">
      <!-- /.card *****-->
      <div class="card card-primary shadow-lg mt-2">
        <div class="card-header primary-color ">
          <h3 class="card-title text-white">مقاله جدید</h3>
        </div>
        <!-- /.card-header -->
        <div class="card-body">
          <div class="row ">
            <div class="col-md-9 col-lg-9 col-sm-12">
              <div class="col-md-12 mb-3">
              <div class="input-group">
                <div class="col-md-3 col-xs-3">
                  <label>   تاریخ :</label>
                </div>
                <div class="col-md-9 col-xs-9">
                  <div class="input-group-prepend ">
              <div class="col-md-12 mb-3">
              <dp-date-picker
              dir="rtl"
              formControlName="date"
              mode="day"

              placeholder="تاریخ  را وارد نمائید"
              theme="dp-material">
            </dp-date-picker>
            </div>
            </div>
            </div>
              </div>
              </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3">
                    <label>  زمان خبر:</label>
                  </div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <input
                        type="text"
                        formControlName="time"
                        class="form-control"
                      />
                    </div>
                    <div
                    *ngIf="time.invalid && (time.dirty || time.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="time.errors.required">
                        زمان  را وارد نمائید
                    </div>
                  </div>
                  </div>

                </div>

              </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3"><label>عنوان مقاله:</label></div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend">
                      <input
                        type="text"
                        formControlName="title"
                        class="form-control"
                      />

                    </div>
                    <div
                    *ngIf="title.invalid && (title.dirty || title.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="title.errors.required">
                     عنوان خبر را وارد نمائید
                    </div>
                  </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3">
                    <label>کلید واژه عنوان مقاله:</label>
                  </div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <input
                        type="text"
                        formControlName="key_title"
                        class="form-control"
                      />
                    </div>
                    <div
                    *ngIf="key_title.invalid && (key_title.dirty || key_title.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="key_title.errors.required">
                     کلید واژه عنوان خبر  را وارد نمائید
                    </div>
                  </div>
                  </div>

                </div>

              </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3"><label>خلاصه مقاله:</label></div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <textarea
                        type="text"
                        formControlName="abstract"
                        class="form-control"

                      ></textarea>
                    </div>
                    <div
                    *ngIf="abstract.invalid && (abstract.dirty || abstract.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="abstract.errors.required">
                       خلاصه خبر  را وارد نمائید
                    </div>
                  </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3">
                    <label> نویسنده :</label>
                  </div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <input
                      formControlName="author"

                        class="form-control"
                      />
                    </div>
                    <div
                    *ngIf="author.invalid && (author.dirty || author.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="author.errors.required">
                         نویسنده مقاله  را وارد نمائید
                    </div>
                  </div>
                  </div>
                </div>
              </div>

              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3"><label> وضعیت :</label></div>

                  <mat-radio-group
                    aria-label="Select an option"
                    formControlName="active"
                  >
                    <mat-radio-button value="true">فعال</mat-radio-button>
                    <mat-radio-button value="false">غیرفعال</mat-radio-button>
                  </mat-radio-group>
                </div>
                <div
                    *ngIf="active.invalid && (active.dirty || active.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="active.errors.required">
                        وضعیت خبر  را وارد نمائید
                    </div>
                  </div>
              </div>
              <div class="col-md-12 mb-3 ">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3">
                    <label>جزئیات مقاله:</label>
                  </div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <ckeditor formControlName="detail"></ckeditor>

                    </div>
                    <div
                    *ngIf="detail.invalid && (detail.dirty || detail.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="detail.errors.required">
                        وضعیت خبر  را وارد نمائید
                    </div>
                  </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3"><label>کلید واژه متن مقاله :</label></div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <textarea
                        type="text"
                        formControlName="keyword"
                        class="form-control"

                      ></textarea>
                    </div>
                    <div
                    *ngIf="keyword.invalid && (keyword.dirty || keyword.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="keyword.errors.required">
                      کلید واژه متن مقاله   را وارد نمائید
                    </div>
                  </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12 mb-3">
                <div class="input-group ">
                  <div class="col-md-3 col-xs-3">
                    <label> کلید واژه تصویر :</label>
                  </div>
                  <div class="col-md-9 col-xs-9">
                    <div class="input-group-prepend ">
                      <input
                      formControlName="alt_img"

                        class="form-control"
                      />
                    </div>
                    <div
                    *ngIf="alt_img.invalid && (alt_img.dirty || alt_img.touched)"
                    class="alert alert-danger"
                  >
                    <div *ngIf="alt_img.errors.required">
                      کلید واژه تصویر  را وارد نمائید
                    </div>
                  </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-3 col-lg-3 col-sm-12">
              <div><label> تصویر خبر :</label></div>

              <form class="md-form">
                <div class="file-field">
                  <div class="z-depth-1-half mb-4"></div>
                  <div class="d-flex flex-column">
                    <div>
                      <img class="w-100 h-100" [src]="imgURL" *ngIf="imgURL" />
                    </div>
                    <div class="btn btn-info border-info text-white btn-rounded float-left">
                      <input
                        #file
                        type="file"
                        accept="image/*"
                        (change)="onFileChange($event)"
                      />
                      <i class="material-icons fa-2x text-white mr-3">
                        add_photo_alternate
                        </i>
                      <!-- <input type="file" (change)="onFileChange($event)"> -->
                      <span>انتخاب تصویر</span>
                    </div>
                  </div>
                </div>
              </form>

            </div>
          </div>


        </div>
        <div class="card-footer">
          <button type="submit"  class="btn btn-success border-success btn-rounded text-white "><i class="material-icons fa-2x mr-3">
            add
            </i>ثبت مقاله</button>
        </div>
      </div>
      <!-- /.left col -->

    </section>
    <div></div>
  </div>
  </div>
</form>
