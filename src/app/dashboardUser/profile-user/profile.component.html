<form [formGroup]="myForm" (ngSubmit)="onSubmit(myForm)">
  <div class="container">
    <div *ngIf="successResult" class="mt-5">
      <div class="alert alert-success text-center">
       <a class="alert-link text-center">  اطلاعات با موفقیت ثبت شد</a>.
      </div>
    </div>

  <div class="row  d-flex justify-content-center">
    <!-- Left col -->

    <section class="col-lg-12  connectedSortable">
      <!-- /.card *****-->
      <div class="card card-primary shadow-lg mt-2">
        <div class="card-header primary-color ">
          <h3 class="card-title text-white"> مشخصات کاربری</h3>
        </div>
        <!-- /.card-header -->
        <div class="card-body">
          <div class="row ">
            <div class="col-md-9 col-lg-9 col-sm-12">

                <div class="col-md-12 mb-3">
                  <div class="input-group flex-nowrap">
                    <div class="col-md-3 col-xs-3">
                      <label>   نام کاربر:</label>
                    </div>
                    <div class="col-md-9 col-xs-9">
                      <div class="input-group-prepend ">
                        <input
                          type="text"
                          formControlName="name"
                          class="form-control"
                          [(ngModel)]="userProfile.name"
                        />
                      </div>
                      <div
                      *ngIf="name.invalid && (name.dirty || name.touched)"
                      class="alert alert-danger"
                    >
                      <div *ngIf="name.errors.required">
                          نام کاربری  را وارد نمائید
                      </div>
                    </div>
                    </div>

                  </div>

                </div>
                <div class="col-md-12 mb-3">
                  <div class="input-group flex-nowrap">
                    <div class="col-md-3 col-xs-3">
                      <label>    شماره همراه:</label>
                    </div>
                    <div class="col-md-9 col-xs-9">
                      <div class="input-group-prepend ">
                        <input
                          type="number"
                          formControlName="mobail"
                          class="form-control"
                          [(ngModel)]="userProfile.mobail"
                        />
                      </div>
                      <div
                      *ngIf="mobail.invalid && (mobail.dirty || mobail.touched)"
                      class="alert alert-danger"
                    >
                      <div *ngIf="mobail.errors.required">
                           شماره همراه  را وارد نمائید
                      </div>
                    </div>
                    </div>

                  </div>

                </div>
                <div class="col-md-12 mb-3">
                  <div class="input-group flex-nowrap">
                    <div class="col-md-3 col-xs-3">
                      <label>     تلفن ثابت:</label>
                    </div>
                    <div class="col-md-9 col-xs-9">
                      <div class="input-group-prepend ">
                        <input
                          type="number"
                          formControlName="tell"
                          class="form-control"
                          [(ngModel)]="userProfile.tell"
                        />
                      </div>
                      <div
                      *ngIf="tell.invalid && (tell.dirty || tell.touched)"
                      class="alert alert-danger"
                    >
                      <div *ngIf="tell.errors.required">
                            تلفن ثابت  را وارد نمائید
                      </div>
                    </div>
                    </div>

                  </div>

                </div>
                <div class="col-md-12 mb-3">
                  <div class="input-group flex-nowrap">
                    <div class="col-md-3 col-xs-3">
                      <label>      کد پستی:</label>
                    </div>
                    <div class="col-md-9 col-xs-9">
                      <div class="input-group-prepend ">
                        <input
                          type="number"
                          formControlName="postalCode"
                          class="form-control"
                          [(ngModel)]="userProfile.postalCode"
                        />
                      </div>
                      <div
                      *ngIf="postalCode.invalid && (postalCode.dirty || postalCode.touched)"
                      class="alert alert-danger"
                    >
                      <div *ngIf="tell.errors.required">
                             کد پستی  را وارد نمائید
                      </div>
                    </div>
                    </div>

                  </div>

                </div>
                <div class="col-md-12 mb-3">
                  <div class="input-group flex-nowrap">
                    <div class="col-md-3 col-xs-3">
                      <label>      آدرس :</label>
                    </div>
                    <div class="col-md-9 col-xs-9">
                      <div class="input-group-prepend ">
                        <input
                          type="text"
                          formControlName="address"
                          class="form-control"
                          [(ngModel)]="userProfile.address"
                        />
                      </div>
                      <div
                      *ngIf="address.invalid && (address.dirty || address.touched)"
                      class="alert alert-danger"
                    >
                      <div *ngIf="tell.errors.required">
                              آدرس  را وارد نمائید
                      </div>
                    </div>
                    </div>

                  </div>

                </div>
                <div class="col-md-12 mb-3">
                  <div class="input-group flex-nowrap">
                    <div class="col-md-3 col-xs-3">
                      <label>      شهر :</label>
                    </div>
                    <div class="col-md-9 col-xs-9">
                      <div class="input-group-prepend ">
                        <input
                          type="text"
                          formControlName="city"
                          class="form-control"
                          [(ngModel)]="userProfile.city"
                        />
                      </div>
                      <div
                      *ngIf="city.invalid && (city.dirty || city.touched)"
                      class="alert alert-danger"
                    >
                      <div *ngIf="city.errors.required">
                              شهر  را وارد نمائید
                      </div>
                    </div>
                    </div>

                  </div>

                </div>
                <div class="col-md-12 mb-3">
                  <div class="input-group flex-nowrap">
                    <div class="col-md-3 col-xs-3">
                      <label>      کشور :</label>
                    </div>
                    <div class="col-md-9 col-xs-9">
                      <div class="input-group-prepend ">
                        <input
                          type="text"
                          formControlName="country"
                          class="form-control"
                          [(ngModel)]="userProfile.country"
                        />
                      </div>
                      <div
                      *ngIf="country.invalid && (country.dirty || country.touched)"
                      class="alert alert-danger"
                    >
                      <div *ngIf="country.errors.required">
                              کشور  را وارد نمائید
                      </div>
                    </div>
                    </div>

                  </div>

                </div>
                <div class="col-md-12 mb-3">
                  <div class="input-group flex-nowrap">
                    <div class="col-md-3 col-xs-3">
                      <label>      ایمیل :</label>
                    </div>
                    <div class="col-md-9 col-xs-9">
                      <div class="input-group-prepend ">
                        <input
                          type="email"
                          formControlName="email"
                          class="form-control"
                          [(ngModel)]="userProfile.email"
                        />
                      </div>
                      <div
                      *ngIf="email.invalid && (email.dirty || email.touched)"
                      class="alert alert-danger"
                    >
                      <div *ngIf="email.errors.required">
                              ایمیل  را وارد نمائید
                      </div>
                    </div>
                    </div>

                  </div>

                </div>
                <div class="col-md-12 mb-3">
                  <div class="input-group flex-nowrap">
                    <div class="col-md-3 col-xs-3">
                      <label>      رمز کاربری :</label>
                    </div>
                    <div class="col-md-9 col-xs-9">
                      <div class="input-group-prepend ">
                        <input
                          type="password"
                          formControlName="password"
                          class="form-control"
                          [(ngModel)]="userProfile.password"
                        />
                      </div>
                      <div
                      *ngIf="password.invalid && (password.dirty || email.touched)"
                      class="alert alert-danger"
                    >
                      <div *ngIf="password.errors.required">
                              رمز کاربری  را وارد نمائید
                      </div>
                    </div>
                    </div>

                  </div>

                </div>


            </div>
            <div class="col-md-3 col-lg-3 col-sm-12">
              <div><label> تصویر کاربر :</label></div>

              <form class="md-form">
                <div class="file-field">
                  <div class="z-depth-1-half mb-4"></div>
                  <div class="d-flex flex-column">
                    <div>
                      <img class="w-100 h-100" [src]="imgURL" *ngIf="imgURL" />
                    </div>
                    <div class="btn btn-info   border-info text-white btn-rounded float-left">
                      <input
                       formControlName="image"
                        #file
                        type="file"
                        accept="image/*"
                        (change)="onFileChange($event)"
                      />
                      <i class="material-icons fa-2x text-white mr-3">
                        add_photo_alternate
                        </i>
                      <!-- <input type="file" (change)="onFileChange($event)"> -->
                      <span>انتخاب تصویر</span>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>


        </div>
        <div class="card-footer">
          <button type="submit"  class="btn btn-success border-success btn-rounded text-white " [disabled]="myForm.invalid"><i class="material-icons fa-2x mr-3">
            add
            </i>ثبت مشخصات</button>
        </div>
      </div>
      <!-- /.left col -->

    </section>
    <div></div>
  </div>
  </div>
</form>

